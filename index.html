<!doctype html>
<html lang="en-US">
<head>
  <title>Makrall</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="A poorly drawn comic of nonsensical conversations">
  <meta name="keywords" content="webcomic, makrall, tofuoreobellum">
  <meta name="author" content="Shaun C-B">
  <link rel="stylesheet" href="styles.css">
  <!--<link rel="shortcut icon" href="scblogo.ico">-->
</head>

<!--Body of website-->
<body onload="comicLatest()">
  <div class="flex-container">
    <div id="center-column" style="order: 2">
      <!--Title box-->
      <header class="content-box">
        <div id="header-box">
          <div id="title">
            <h1>Makrall</h1>
          </div>
          <div id="site-description">
            <p>A poorly drawn comic of <br>nonsensical conversations</p>
          </div>
        </div>
      </header>

      <!--Navigation box-->
      <section class="content-box">
        <div id="top-nav">
          <ul>
            <li><a href="index.html" class="current_page">Home</a></li>
            <li> || </li>
            <li><a href="archive.html">Archive</a></li>
            <li> || </li>
            <li><a href="projects.html">All Projects</a></li>
            <li> || </li>
            <li><a href="contact.html">Contact</a></li>
            <li> || </li>
            <li><a href="about.html">About</a></li>
          </ul>
        </div>
      </section>

      <!--Main content box-->
      <section class="content-box">
        <img id="toggle-button" src="ui_images/toggle_black.png" alt="dark mode toggle"
          onclick="darkToggle()" title="Click to toggle dark mode">

        <div id="comic-nav" class="flex-container">
          <div class="img-invert"><img src="ui_images/button_skip.png" alt="First"
            class="comic-skip" onclick="comicFirst()"></div>
          <div class="img-invert"><img src="ui_images/button_index.png" alt="Previous"
            class="comic-index" onclick="comicPrevious()"></div>
          <div><p id="comic-title">If you are reading this, please
            <a href="contact.html">contact</a> the dev, it seems something is broken</p></div>
          <div><img src="ui_images/button_index.png" alt="Next"
            class="comic-index" onclick="comicNext()"></div>
          <div><img src="ui_images/button_skip.png" alt="Latest"
            class="comic-skip" onclick="comicLatest()"></div>
        </div>

        <div id="comic-container">
          <img id="comic-img" src="comics/comic_teaser.png" alt="comic">
        </div>

        <div id=text>
          <h4>Welcome to Makrall</h4>
          <p>I was origanally going to add an explanation to each comic, but that would defeat
            the purpose of having unexplainable nonsense (Definitely not because I'm too lazy
            to write them). More comics will be added in the coming weeks as I (hopefully)
            get around to drawing them.</p>
        </div>
      </section>
    </div>
    <div id="left-column" class="sidebar" style="order: 1"><img src="ui_images/speech_bubble.png" alt="speech bubble" class="side-bubble"></div>
    <div id="right-column" class="sidebar" style="order: 3"><img src="ui_images/speech_bubble.png" alt="speech bubble" class="side-bubble"></div>
  </div>

  <!-- Comic switching -->
  <script src="comic_list.js"></script>
  <script>
    var current_comic = comic_list.length-1;

    function comicLatest() {
      current_comic = comic_list.length-1;
      setComic();
    }
    function comicFirst() {
      current_comic = 0;
      setComic();
    }
    function comicNext() {
      if(current_comic < comic_list.length-1) {
        current_comic ++;
        setComic();
      }
    }
    function comicPrevious() {
      if(current_comic > 0) {
        current_comic --;
        setComic();
      }
    }
    
    function setComic() {
      const title = comic_list[current_comic].title;
      const image = comic_list[current_comic].filepath;
      const hoverText = comic_list[current_comic].hoverText;
      document.getElementById("comic-title").innerHTML = title;
      document.getElementById("comic-img").src = image;
      document.getElementById("comic-img").title = hoverText;
    }
  </script>

  <!--Dark mode script-->
  <script>
    var state= "light";
    function darkToggle() {
      document.body.classList.toggle("dark-background");
      //Content boxes
      var boxes = document.getElementsByClassName("content-box");
      for(item of boxes) {
        item.classList.toggle("dark-content-box");
      }
      //Speech bubble icons
      var bubbles = document.getElementsByClassName("side-bubble");
      for(item of bubbles) {
        if(state=="light") {
          item.src = "ui_images/speech_bubble_dark.png";
        } else {
          item.src = "ui_images/speech_bubble.png";
        }
      }
      //Comic nav buttons
      var indexIcons = document.getElementsByClassName("comic-index");
      for (item of indexIcons) {
        item.classList.toggle("dark-hover");
        if(state=="light") {
          item.src = "ui_images/button_index_dark.png";
        } else {
          item.src = "ui_images/button_index.png";
        }
      }
      var skipIcons = document.getElementsByClassName("comic-skip");
      for (item of skipIcons) {
        item.classList.toggle("dark-hover");
        if(state=="light") {
          item.src = "ui_images/button_skip_dark.png";
        } else {
          item.src = "ui_images/button_skip.png";
        }
      }
      //Toggle icon
      if(state == "light") {
        document.getElementById("toggle-button").src = "ui_images/toggle_white.png"
        state = "dark";
      } else {
        document.getElementById("toggle-button").src = "ui_images/toggle_black.png"
        state = "light";
      }

    }
  </script>
</body>
